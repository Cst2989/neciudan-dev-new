const id = "the-bowling-kata.md";
						const collection = "post";
						const slug = "the-bowling-kata";
						const body = "\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/kata.jpeg\" alt=\"Kata\" /> \n</p>\nA kata is an exercise in martial arts, where you practice the same thing over and over again making small improvements each time. The same concept can be applied to programming, it helps programmers hone their skills and be better at their job.\n\nBeing a tested concept with a lot of online resources, job applications started using this coding challenge for their on-site Live Coding Interview.\n\nIn this article I’m going to explore a coding Kata, the Bowling Score, and how to solve it in the context of an interview.\n\nYou will be given a series of inputs and expected output for each input, and the expected result is to code everything in between (classes, methods, unit tests) to get the desired result.\n\nWe will go through the thinking process, the steps to take when presented a problem and some tips and tricks to help you when you are stuck in the journey to solve this challenge.\n\n## The Bowling Score Kata\n\n\n\nIn a game of bowling you get ten rounds to knock back 10 pins with a bowling ball. In each round, called a frame, you have two tries. If you knock them over on the first try, it’s called a strike, if you do it in two it’s called a spare. At the end of the 10 frames the player with the most points wins.\n\nPoints are calculated based on a frame result:\n\n- If it’s not a strike or a spare the sum of the throws is calculated.\n- For a spare, you get the next throw added as a bonus.\n- For a strike, you get the next two throws added as a bonus.\n- If you have a spare or a strike in the last frame you get another throw as a bonus.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling.webp\" alt=\"Bowling score\" /> \n</p>\n\nIn an interview typically you get an explanation like the one above and a series of input / output values, as examples, that you can use to verify your solution. Like this:\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling0.png\"  /> \n</p>\n\nFrom the description and examples we can gather a couple of insights:\n\n- We receive an array of numbers as input and expect a number, the total score, as output.\n- A strike is always followed by the number 0.\n- The length of the rolls array is 20 and in the case of a strike / spare on the last frame, it’s 21.\n- A frame is composed of two throws and the game is composed of ten frames.\n\nWith this in mind we can start coding our solution, and the first step of that is to write some unit tests.\n\n### Starting with Unit tests\n\nStarting with unit tests first is a must-have for any interview process. You don’t have to practice [TDD](https://www.browserstack.com/guide/what-is-test-driven-development) regularly at work, or follow the [Red, Green, Refactor framework](https://www.codecademy.com/articles/tdd-red-green-refactor) rigorously, but writing the tests first helps you think in small increments about a problem.\n\nAll of a sudden you don’t have to solve a big complex problem, you have to solve multiple small problems and you can take them one at a time.\n\nAnd by writing unit tests you can showcase your thinking process outside of your coding skills. Interviewers are very interested to see a candidate think about error boundaries in a problem and handle it accordantly.\n\nFrom the requirements we can gather a couple of invalid inputs:\n\n- When the input rolls length is lower than 20\n- When the input rolls length is bigger than 21\n- When we have negative numbers among the input rolls\n- When two rolls in a frame have a sum bigger than 10 (there are only 10 pins you can hit)\n- When following a strike you have another number other than 0\n\nJust by thinking about error boundaries, it also helped us with our design, because to test against them we have to code in a specific, granular way.\n\nFor example, to test that two rolls in a frame have a sum bigger than 10, we now deduce that we need a function that handles the logic for a specific frame.\n\nPointing these invalid inputs out to the interviewer will score you massive points, but please keep in mind that you are on limited time. So you can code one or two but have the bigger picture in mind. Nothing is worse that having the interviewer stop you to let you know you have 5 more minutes left.\n\n### Getting started\nAssuming our starting function is something like this:\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling1.png\"  /> \n</p>\n\nLet’s write our first test to protect ourselves against invalid inputs:\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling2.png\"  /> \n</p>\n\nQuick tips regarding testing:\n- Follow the AAA (ARRANGE, ACT, ASSERT) pattern when writing test\n- Only have one Assert per unit test\n- When testing and coding and debugging you can use helper functions to focus only one test or block of tests\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling3.png\"  /> \n</p>\n\nComing back to our first test case, we need to code a solution for when we have too few rolls as our input.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling4.png\"  /> \n</p>\n\nRunning the tests with the focus on our first test will return our first green. Good job!\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling-kid.jpeg\"  /> \n</p>\n\nSimilarly we can now do the same for the others, take care of doing it one by one and running the test each time, in case of an error in our code so you don’t waste time debugging.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling5.png\"  /> \n</p>\n\nHere normally, if you are not stressed on time, I would remove the if statement in a different function that handles the Invalid Input rolls statement, but it’s more important to finish the assignment first and refactor later.\n\n### Thinking in Bowling Frames\n\nGoing forward, the next two invalid inputs are harder to test right off the bat, as we don’t have them split into frames. So let’s create a new function that handles the logic of a single frame, and move our invalid tests to this function.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling6.png\"  /> \n</p>\n\nLet’s create our calculateFrame function. Normally a frame should return either the sum of two rolls, a Strike symbol if the frame was a strike, or a spare symbol if the frame was a Spare. Firstly though, let’s take care of our invalid inputs.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling7.png\"  /> \n</p>\n\nIt’s now time to test the happy path, and our first order of business is to finish the frame function.\n\nWe need the frame to return the sum of the rolls or the corresponding symbol for a spare / strike. The ‘/’ symbol for spare and a ‘X’ for a strike.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling8.png\"  /> \n</p>\n\nExpanding on our invalid verification code we just had to return the sum. Pretty simple once you start with the errors, now all we have to do is handle a strike and a spare.\n\nFor the spare if the sum is 10, return the symbol for spare ‘/ and for a Strike, if the first roll is a 10 then we return the ‘X’ symbol.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling9.png\"  /> \n</p>\n\n### All games have a score card\n\nWe now have our tests that verify our implementation, so we can refactor as much as we want, and more importantly we have our first block in our solution.\n\nThe next step now is to build on top of this function to get to the final correct result.\n\nNext we want a scorecard, given any number of frames, let’s see the result like in a normal Bowling Game. We see the frame number, and either the sum of that frame, a strike symbol or a spare symbol.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/scorecard.webp\"  /> \n</p>\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling10.png\"  /> \n</p>\n\nAgain we can test multiple scenarios, when we have no strikes or spares, when we have a spare, when we have a strike, and when we have multiple strikes / spares.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling11.png\"  /> \n</p>\n\nWe already have our frame function that returns the correct result, we just have to loop the frames, apply the frame function and store the result in a string.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling12.png\"  /> \n</p>\n\nA simple and elegant function, that only does one thing.\n\n### Adding up your score\nWe have our score card, and now it’s time to calculate the score from it.\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling13.png\"  /> \n</p>\nLet’s give this function the three already tested scorecards and assert the correct response.\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling14.png\"  /> \n</p>\nFirst step, would be to iterate though the string, parse each value as an integer and calculate the sum. After that we need to calculate the tricky stuff, when we have a spare and a strike.\n\nFor a spare, we need to add the next throw as a bonus, so to do that, the scorecard is not enough, we also need to have access to the frames array.\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling15.png\"  /> \n</p>\n\nOne more step to go, for the strike we need to add the next two throws as bonus, and here is where it gets tricky, we can do the same as above and add the next two values in the future frame, but what if the next frame is also a strike? Then we will add 0 by mistake, we need to verify if it is a strike and plan accordantly.\n\nJust like before, we need to check for a strike and add the next throw throws inside the forEach:\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling16.png\"  /> \n</p>\n\nThis will solve our initial test case, but if we have two strikes in a row, it will add 0 instead of 10 to the second strike, so we have to verify we don’t add a faulty 0 and be very careful in case the 0 is from a strike or a normal miss.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling17.png\"  /> \n</p>\n\nTo make this test past, we have to check for a future strike in our calculation\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling18.png\"  /> \n</p>\n\nThere are multiple things happening in the above code, a smell that we can extract it in a different function, but essentially it’s trying to add the next two rolls to the score. But to do that it first checks if we have two rolls ahead of this strike, and if we do, it checks for a future strike.\n\n### Putting the pieces together\n\nNow we have the entire logic flashed out, all that is left is putting it all together inside our bowlingScore function.\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling19.png\"  /> \n</p>\n\nlistToMatrix is a simple utility function that generates a two dimensional matrix (our frames) from an array. Here it is:\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/bowling20.png\"  /> \n</p>\n\n<p style=\"text-align: center;\">\n<img src=\"/images/articles/passing-tests.webp\"  /> \n</p>\n\n\nAnd thats it! Congratulations, you just finished your first kata. Going forward you can refactor it, and try to optimise it as much as you want.\n\n## Conclusion\n\nYou can also find the [finished code here](https://github.com/Cst2989/katas/tree/master/src).\n\nTLDR: If you skipped the article, here are the key elements that I hope will remain with you during your interviewing journey:\n\n- Write tests first, verify your output with unit tests and not with the console\n- When writing unit tests, follow the AAA pattern, use only one ASSERT per test and take advantage of the “only()” helper function to focus on a single test.\n- Always think about error boundaries and input validation\n- Start by coding a small simple function and increment on the solution from there.\n- Naming matters! Please take the time to name your functions and variables with clear and concise names.\n- With proper unit tests in place, it’s easy and safe to refactor your code.\n- Leave refactoring for the end, when you already finished the assignment\n- Keep an eye on the clock, you do not want to be reminded that you have 5 minutes left by the interviewer.\n\nThank you for your time! I hope this article helps you land your dream job in the wonderful world of Software Engineering.\n";
						const data = {publishDate:new Date(1624320000000),title:"The Bowling Kata",excerpt:"A kata is a set of routines, samurai used to perfect their craft. We can apply the same practices for code development",image:"/images/articles/kata.jpeg",category:"Coding Kata"};
						const _internal = {
							type: 'content',
							filePath: "/Users/danneciu/Desktop/apps/neciudan-dev-v2/src/content/post/the-bowling-kata.md",
							rawData: "\ntitle: 'The Bowling Kata'\nexcerpt: 'A kata is a set of routines, samurai used to perfect their craft. We can apply the same practices for code development'\npublishDate: 2021-06-22\nimage: '/images/articles/kata.jpeg'\ncategory: 'Coding Kata'\nreadTime: '8 min read'",
						};

export { _internal, body, collection, data, id, slug };
